<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Estado</title>
</h:head>


<h:body>



	<h:form id="statesform">
		<p:growl id="msgGrowl" life="15000" />
		<p:panel header="Estados"></p:panel>


		<p:dataTable id="dataTable" rowsPerPageTemplate="7,15,30,50,100"
			emptyMessage="Nenhum Registro encontrado" rows="7" paginator="true"
			var="states" value="#{estadoBean.listaEstado}"
			style=" text-align:center;">


			<f:facet name="header">
				<p:commandButton value="Listar Estados"
					action="#{estadoBean.carregar()}"
					update=":statesform:dataTable :statesform:msgGrowl" />
			</f:facet>

			<f:facet name="footer">
				<p:commandButton value="Adicionar"
					oncomplete="PF('dialogo').show();"
					actionListener="#{estadoBean.novo()}"
					update=":formCadastro:dialogpanel" />

			</f:facet>

			<p:column headerText="ID" sortBy="#{states.codigo}"
				filterBy="#{states.codigo}">
				<p:outputLabel value="#{states.codigo}" />
			</p:column>

			<p:column headerText="Estado" sortBy="#{states.nome}"
				filterBy="#{states.nome}">
				<p:outputLabel value="#{states.nome}" />
			</p:column>

			<p:column headerText="Sigla" sortBy="#{states.sigla}"
				filterBy="#{states.sigla}">
				<p:outputLabel value="#{states.sigla}" />
			</p:column>

			<p:column headerText="Opções">
				<p:outputLabel value="#{users.email}" />
			</p:column>

		</p:dataTable>
	</h:form>

	<!-- draggable = false ou true "mover a janela suspensa"| 
     resizable=false ou true"mudar o tamanho a janela suspensa" |
     modal=false ou true "clicar foda da janela suspensa"|
     closable="true?" 'controla o botão fechar do dialogo'-->
	<p:dialog header="Cadastro de Estado" widgetVar="dialogo" modal="true"
		responsive="true">

		<p:messages id="msgdialog" autoUpdate="true" closable="true" />

		<h:form id="formCadastro">

			<h:panelGrid id="dialogpanel" columns="2">
				<p:outputLabel value="Estado: " />
				<p:inputText maxlength="50" size="20"
					value="#{estadoBean.estado.nome}" />

				<p:outputLabel value="Sigla: " />
				<p:inputText maxlength="50" size="20"
					value="#{estadoBean.estado.sigla}" />

			</h:panelGrid>
			<h:panelGrid columns="2">
				<p:commandButton value="Salvar"
					actionListener="#{estadoBean.salvar()}" update="msgdialog" />

				<p:commandButton value="Fechar" oncomplete="PF('dialogo').hide();" />

			</h:panelGrid>

		</h:form>

	</p:dialog>
</h:body>
</html>